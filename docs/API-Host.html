<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API参考：LGOS Studio完整指南 | LGOS Studio Docs</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #00cc99;
            --primary-dark: #004d99;
            --secondary: #ed7d31;
            --accent: #00cc99;
            --dark: #222831;
            --darker: #1d2228;
            --light: #f5f7fa;
            --gray: #8e9aaf;
            --card-bg: rgba(255, 255, 255, 0.08);
            --card-border: rgba(255, 255, 255, 0.12);
            --shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--darker), var(--dark));
            color: var(--light);
            min-height: 100vh;
            line-height: 1.6;
            padding-bottom: 2rem;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, rgba(67, 97, 238, 0.2) 0%, transparent 70%);
            z-index: -1;
        }

        /* 头部样式 */
        .header {
            padding: 1.5rem 5%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(30, 33, 45, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .logo-icon {
            font-size: 1.8rem;
            color: var(--secondary);
        }

        .logo h1 {
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--secondary), var(--primary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-size: 1rem;
            transition: var(--transition);
            padding: 0.5rem 0;
            position: relative;
            font-weight: 500;
        }

        .nav-links a:hover {
            color: var(--secondary);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: var(--secondary);
            bottom: 0;
            left: 0;
            transition: var(--transition);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        /* 搜索样式 */
        .search-container {
            position: relative;
            width: 300px;
            margin: 2rem auto;
            margin-bottom: 3rem;
        }

        .search-box {
            width: 100%;
            padding: 1rem 1.5rem 1rem 3.5rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 50px;
            color: var(--light);
            font-size: 1rem;
            backdrop-filter: blur(4px);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(61, 90, 241, 0.2);
        }

        .search-icon {
            position: absolute;
            left: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        /* 主容器 */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 5%;
            display: flex;
            gap: 2rem;
        }

        /* 侧边导航 */
        .sidebar {
            width: 260px;
            flex-shrink: 0;
            background: rgba(30, 33, 45, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 1.5rem;
            height: fit-content;
            box-shadow: var(--shadow);
            border: 1px solid var(--card-border);
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }

        .sidebar h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar li {
            margin-bottom: 0.8rem;
        }

        .sidebar a {
            text-decoration: none;
            color: var(--light);
            display: block;
            padding: 0.5rem;
            border-radius: 8px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-size: 0.95rem;
        }

        .sidebar a:hover {
            background: rgba(67, 97, 238, 0.1);
            color: var(--secondary);
        }

        .sidebar i {
            font-size: 0.9rem;
            width: 24px;
            text-align: center;
        }

        .sidebar .active {
            background: rgba(67, 97, 238, 0.2);
            color: var(--secondary);
            font-weight: 500;
        }

        /* API文档内容样式 */
        .api-content {
            flex-grow: 1;
            background: rgba(30, 33, 45, 0.5);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 2.5rem;
            border: 1px solid var(--card-border);
            box-shadow: var(--shadow);
            max-width: 900px;
        }

        .api-header {
            margin-bottom: 2.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .api-header h1 {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, var(--light), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.3;
        }

        .doc-meta {
            display: flex;
            gap: 1.5rem;
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        .doc-meta div {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .doc-category {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            background: rgba(67, 97, 238, 0.15);
            color: var(--secondary);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 0.8rem;
        }

        .api-section {
            margin-bottom: 3rem;
        }

        .api-section h2 {
            font-size: 1.8rem;
            margin: 2.5rem 0 1.2rem;
            color: var(--secondary);
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .api-section h3 {
            font-size: 1.4rem;
            margin: 2rem 0 1rem;
            color: var(--light);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .api-description {
            margin: 1.2rem 0;
            color: var(--light);
            opacity: 0.9;
            line-height: 1.7;
        }

        .api-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 1.8rem;
            margin: 1.5rem 0;
            position: relative;
            overflow: hidden;
            transition: var(--transition);
        }

        .api-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
            border-color: rgba(67, 97, 238, 0.3);
        }

        .api-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
        }

        .api-method {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.85rem;
            margin-bottom: 1rem;
        }

        .method-get {
            background: rgba(56, 182, 255, 0.2);
            color: var(--secondary);
        }

        .method-post {
            background: rgba(67, 160, 71, 0.2);
            color: #66bb6a;
        }

        .method-put {
            background: rgba(255, 152, 0, 0.2);
            color: #ffa726;
        }

        .method-delete {
            background: rgba(244, 67, 54, 0.2);
            color: #ef5350;
        }

        .api-endpoint {
            font-family: 'Fira Code', monospace;
            font-size: 1.1rem;
            margin-bottom: 1.2rem;
            color: var(--light);
            word-break: break-all;
        }

        .api-params {
            width: 100%;
            border-collapse: collapse;
            margin: 1.2rem 0;
        }

        .api-params th {
            text-align: left;
            padding: 0.8rem;
            background: rgba(255, 255, 255, 0.05);
            color: var(--secondary);
            font-weight: 600;
        }

        .api-params td {
            padding: 0.8rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .api-params tr:last-child td {
            border-bottom: none;
        }

        .param-name {
            font-family: 'Fira Code', monospace;
            color: var(--secondary);
        }

        .param-type {
            color: #66bb6a;
            font-style: italic;
        }

        .param-required {
            color: #ef5350;
            font-size: 0.85rem;
        }

        .param-optional {
            color: var(--gray);
            font-size: 0.85rem;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            font-family: 'Fira Code', monospace;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .code-block code {
            font-family: 'Fira Code', monospace;
            font-size: 0.95rem;
            color: #f8f8f2;
            display: block;
        }

        .code-block-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            align-items: center;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .code-lang {
            background: rgba(67, 97, 238, 0.2);
            color: var(--secondary);
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        .copy-btn {
            background: transparent;
            color: var(--gray);
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
        }

        .tip-box {
            background: rgba(56, 182, 255, 0.1);
            border-left: 3px solid var(--secondary);
            padding: 1.2rem;
            border-radius: 4px;
            margin: 1.8rem 0;
        }

        .tip-box h4 {
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--secondary);
        }

        .api-category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.2rem;
            margin: 2rem 0;
        }

        .api-category-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 12px;
            padding: 1.5rem;
            transition: var(--transition);
            text-align: center;
        }

        .api-category-card:hover {
            transform: translateY(-3px);
            border-color: rgba(67, 97, 238, 0.3);
        }

        .api-category-card i {
            font-size: 2rem;
            color: var(--secondary);
            margin-bottom: 1rem;
        }

        .api-category-card h3 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        /* 响应式设计 */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                position: relative;
                top: 0;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .search-container {
                width: 100%;
                max-width: 500px;
            }
            
            .api-content {
                padding: 1.8rem;
            }
            
            .api-header h1 {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            .doc-meta {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .header {
                padding: 1rem 5%;
            }
            
            .logo h1 {
                font-size: 1.3rem;
            }
            
            .api-params {
                display: block;
                overflow-x: auto;
            }
        }
        a {
            text-decoration: none;
        }
    </style>
</head>
<body>
    <!-- 头部导航 -->
    <header class="header">
        <a href="/Docs"><div class="logo">
            <i class="fas fa-infinity logo-icon"></i>
            <h1>LGOS Studio Docs</h1>
        </div></a>
        <nav class="nav-links">
            <a href="/"><i class="fas fa-home"></i> 首页</a>
            <a href="/Docs"><i class="fas fa-book"></i> 文档</a>
            <a href="/Blog"><i class="fas fa-blog"></i> 博客</a>
            <a href="/Community"><i class="fas fa-users"></i> 社区</a>
            <a href="/About"><i class="fas fa-info-circle"></i> 关于</a>
        </nav>
    </header>

    <!-- 搜索框 -->
    <div class="search-container">
        <i class="fas fa-search search-icon"></i>
        <input type="text" class="search-box" placeholder="搜索API...">
    </div>

    <div class="container">
        <!-- 侧边导航 -->
        <aside class="sidebar">
            <h3><i class="fas fa-file-alt"></i> API 分类</h3>
            <ul>
                <li><a href="#overview" class="active"><i class="fas fa-info-circle"></i> 概述</a></li>
                <li><a href="#authentication"><i class="fas fa-key"></i> 认证授权</a></li>
                <li><a href="#app-management"><i class="fas fa-rocket"></i> 应用管理</a></li>
                <li><a href="#module-system"><i class="fas fa-puzzle-piece"></i> 模块系统</a></li>
                <li><a href="#data-service"><i class="fas fa-database"></i> 数据服务</a></li>
                <li><a href="#event-system"><i class="fas fa-bolt"></i> 事件系统</a></li>
                <li><a href="#plugin-api"><i class="fas fa-plug"></i> 插件API</a></li>
                <li><a href="#error-codes"><i class="fas fa-exclamation-triangle"></i> 错误代码</a></li>
                <li><a href="#best-practices"><i class="fas fa-star"></i> 最佳实践</a></li>
            </ul>
        </aside>

        <!-- API内容区域 -->
        <main class="api-content">
            <div class="api-header">
                <span class="doc-category">API参考</span>
                <h1>LGOS Studio API 完整指南</h1>
                <p>探索LGOS Studio的所有API接口，学习如何与框架核心进行交互</p>
                <div class="doc-meta">
                    <div><i class="fas fa-pen"></i> LGOS 核心团队</div>
                    <div><i class="fas fa-sync-alt"></i> 更新于: 2023年10月20日</div>
                    <div><i class="fas fa-tag"></i> 版本: v4.2.0</div>
                    <div><i class="fas fa-code-branch"></i> API版本: v2</div>
                </div>
            </div>
            
            <div class="api-section" id="overview">
                <h2><i class="fas fa-info-circle"></i> 概述</h2>
                <div class="api-description">
                    <p>LGOS Studio API 提供了一套完整的接口，用于与框架核心、模块系统和插件架构进行交互。所有API都遵循RESTful设计原则，并使用JSON作为数据交换格式。</p>
                    
                    <div class="tip-box">
                        <h4><i class="fas fa-lightbulb"></i> 基础URL</h4>
                        <p>所有API请求都基于以下基础URL：</p>
                        <code>https://api.lgos.studio/v2/</code>
                    </div>
                    
                    <h3>API快速导航</h3>
                    <div class="api-category-grid">
                        <div class="api-category-card">
                            <i class="fas fa-key"></i>
                            <h3>认证授权</h3>
                            <p>12个端点</p>
                        </div>
                        
                        <div class="api-category-card">
                            <i class="fas fa-rocket"></i>
                            <h3>应用管理</h3>
                            <p>18个端点</p>
                        </div>
                        
                        <div class="api-category-card">
                            <i class="fas fa-puzzle-piece"></i>
                            <h3>模块系统</h3>
                            <p>15个端点</p>
                        </div>
                        
                        <div class="api-category-card">
                            <i class="fas fa-database"></i>
                            <h3>数据服务</h3>
                            <p>22个端点</p>
                        </div>
                        
                        <div class="api-category-card">
                            <i class="fas fa-bolt"></i>
                            <h3>事件系统</h3>
                            <p>8个端点</p>
                        </div>
                        
                        <div class="api-category-card">
                            <i class="fas fa-plug"></i>
                            <h3>插件API</h3>
                            <p>14个端点</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="api-section" id="authentication">
                <h2><i class="fas fa-key"></i> 认证授权</h2>
                <div class="api-description">
                    <p>LGOS Studio 使用OAuth 2.0协议进行认证和授权。所有API请求都需要在Authorization头中携带有效的访问令牌。</p>
                </div>
                
                <div class="api-card">
                    <span class="api-method method-post">POST</span>
                    <div class="api-endpoint">/auth/token</div>
                    <p>获取访问令牌</p>
                    
                    <h3>请求参数</h3>
                    <table class="api-params">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>描述</th>
                                <th>必需</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="param-name">grant_type</td>
                                <td class="param-type">string</td>
                                <td>授权类型 (password, client_credentials, refresh_token)</td>
                                <td class="param-required">是</td>
                            </tr>
                            <tr>
                                <td class="param-name">username</td>
                                <td class="param-type">string</td>
                                <td>用户名 (grant_type=password时必需)</td>
                                <td class="param-optional">可选</td>
                            </tr>
                            <tr>
                                <td class="param-name">password</td>
                                <td class="param-type">string</td>
                                <td>密码 (grant_type=password时必需)</td>
                                <td class="param-optional">可选</td>
                            </tr>
                            <tr>
                                <td class="param-name">refresh_token</td>
                                <td class="param-type">string</td>
                                <td>刷新令牌 (grant_type=refresh_token时必需)</td>
                                <td class="param-optional">可选</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3>响应示例</h3>
                    <div class="code-block">
                        <div class="code-block-header">
                            <span class="code-lang">json</span>
                            <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                        </div>
                        <code>{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "refresh_token": "def50200de2a3c4d5b6d7e8f9a0b1c2d...",
  "scope": "app:read app:write"
}</code>
                    </div>
                </div>
                
                <div class="api-card">
                    <span class="api-method method-get">GET</span>
                    <div class="api-endpoint">/auth/user</div>
                    <p>获取当前用户信息</p>
                    
                    <h3>请求头</h3>
                    <table class="api-params">
                        <thead>
                            <tr>
                                <th>头名称</th>
                                <th>描述</th>
                                <th>必需</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="param-name">Authorization</td>
                                <td>Bearer {access_token}</td>
                                <td class="param-required">是</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3>响应示例</h3>
                    <div class="code-block">
                        <div class="code-block-header">
                            <span class="code-lang">json</span>
                            <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                        </div>
                        <code>{
  "id": "user_123456789",
  "username": "developer@example.com",
  "name": "张开发",
  "roles": ["developer", "admin"],
  "permissions": ["app:create", "app:delete"],
  "created_at": "2023-01-15T08:30:00Z"
}</code>
                    </div>
                </div>
            </div>
            
            <div class="api-section" id="app-management">
                <h2><i class="fas fa-rocket"></i> 应用管理</h2>
                <div class="api-description">
                    <p>管理LGOS应用程序的生命周期，包括创建、配置、部署和监控。</p>
                </div>
                
                <div class="api-card">
                    <span class="api-method method-post">POST</span>
                    <div class="api-endpoint">/apps</div>
                    <p>创建新应用</p>
                    
                    <h3>请求体</h3>
                    <table class="api-params">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>描述</th>
                                <th>必需</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="param-name">name</td>
                                <td class="param-type">string</td>
                                <td>应用名称</td>
                                <td class="param-required">是</td>
                            </tr>
                            <tr>
                                <td class="param-name">template</td>
                                <td class="param-type">string</td>
                                <td>应用模板ID</td>
                                <td class="param-required">是</td>
                            </tr>
                            <tr>
                                <td class="param-name">modules</td>
                                <td class="param-type">array</td>
                                <td>初始模块列表</td>
                                <td class="param-optional">可选</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3>响应示例</h3>
                    <div class="code-block">
                        <div class="code-block-header">
                            <span class="code-lang">json</span>
                            <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                        </div>
                        <code>{
  "id": "app_abcdef123456",
  "name": "我的新应用",
  "status": "creating",
  "created_at": "2023-10-20T14:30:00Z",
  "deploy_url": "https://my-new-app.lgos.app"
}</code>
                    </div>
                </div>
                
                <div class="api-card">
                    <span class="api-method method-get">GET</span>
                    <div class="api-endpoint">/apps/{app_id}/status</div>
                    <p>获取应用状态</p>
                    
                    <h3>路径参数</h3>
                    <table class="api-params">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="param-name">app_id</td>
                                <td class="param-type">string</td>
                                <td>应用ID</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3>响应示例</h3>
                    <div class="code-block">
                        <div class="code-block-header">
                            <span class="code-lang">json</span>
                            <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                        </div>
                        <code>{
  "id": "app_abcdef123456",
  "name": "我的新应用",
  "status": "running",
  "health": "healthy",
  "cpu_usage": 24.5,
  "memory_usage": 512,
  "last_updated": "2023-10-20T15:45:00Z"
}</code>
                    </div>
                </div>
            </div>
            
            <div class="api-section" id="module-system">
                <h2><i class="fas fa-puzzle-piece"></i> 模块系统</h2>
                <div class="api-description">
                    <p>管理应用模块，包括安装、配置和依赖管理。</p>
                </div>
                
                <div class="api-card">
                    <span class="api-method method-post">POST</span>
                    <div class="api-endpoint">/apps/{app_id}/modules</div>
                    <p>安装新模块</p>
                    
                    <h3>请求体</h3>
                    <table class="api-params">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>描述</th>
                                <th>必需</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="param-name">module_id</td>
                                <td class="param-type">string</td>
                                <td>模块ID</td>
                                <td class="param-required">是</td>
                            </tr>
                            <tr>
                                <td class="param-name">version</td>
                                <td class="param-type">string</td>
                                <td>模块版本</td>
                                <td class="param-optional">可选</td>
                            </tr>
                            <tr>
                                <td class="param-name">config</td>
                                <td class="param-type">object</td>
                                <td>模块配置</td>
                                <td class="param-optional">可选</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3>响应示例</h3>
                    <div class="code-block">
                        <div class="code-block-header">
                            <span class="code-lang">json</span>
                            <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                        </div>
                        <code>{
  "module_id": "data_connector",
  "version": "1.2.0",
  "status": "installing",
  "dependencies": ["core_api", "data_service"],
  "config": {
    "host": "api.example.com",
    "port": 443
  }
}</code>
                    </div>
                </div>
            </div>
            
            <div class="api-section" id="data-service">
                <h2><i class="fas fa-database"></i> 数据服务</h2>
                <div class="api-description">
                    <p>访问和操作应用数据，包括查询、更新和实时数据流。</p>
                </div>
                
                <div class="api-card">
                    <span class="api-method method-get">GET</span>
                    <div class="api-endpoint">/data/{dataset}/query</div>
                    <p>查询数据集</p>
                    
                    <h3>查询参数</h3>
                    <table class="api-params">
                        <thead>
                            <tr>
                                <th>参数</th>
                                <th>类型</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="param-name">filter</td>
                                <td class="param-type">string</td>
                                <td>JSON格式的过滤条件</td>
                            </tr>
                            <tr>
                                <td class="param-name">sort</td>
                                <td class="param-type">string</td>
                                <td>排序字段和方向 (例如: "name:asc")</td>
                            </tr>
                            <tr>
                                <td class="param-name">limit</td>
                                <td class="param-type">integer</td>
                                <td>返回结果数量</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h3>响应示例</h3>
                    <div class="code-block">
                        <div class="code-block-header">
                            <span class="code-lang">json</span>
                            <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                        </div>
                        <code>{
  "data": [
    {
      "id": "record_001",
      "name": "示例数据",
      "value": 42,
      "created_at": "2023-10-01T09:15:00Z"
    },
    {
      "id": "record_002",
      "name": "测试条目",
      "value": 78,
      "created_at": "2023-10-05T14:20:00Z"
    }
  ],
  "total": 2,
  "limit": 10,
  "offset": 0
}</code>
                    </div>
                </div>
            </div>
            
            <div class="api-section" id="error-codes">
                <h2><i class="fas fa-exclamation-triangle"></i> 错误代码</h2>
                <div class="api-description">
                    <p>LGOS Studio API使用标准HTTP状态码，并包含详细的错误信息。</p>
                </div>
                
                <table class="api-params">
                    <thead>
                        <tr>
                            <th>状态码</th>
                            <th>错误代码</th>
                            <th>描述</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>400</td>
                            <td class="param-name">INVALID_REQUEST</td>
                            <td>请求参数无效或缺失</td>
                        </tr>
                        <tr>
                            <td>401</td>
                            <td class="param-name">UNAUTHORIZED</td>
                            <td>缺少有效的认证凭证</td>
                        </tr>
                        <tr>
                            <td>403</td>
                            <td class="param-name">FORBIDDEN</td>
                            <td>没有执行此操作的权限</td>
                        </tr>
                        <tr>
                            <td>404</td>
                            <td class="param-name">RESOURCE_NOT_FOUND</td>
                            <td>请求的资源不存在</td>
                        </tr>
                        <tr>
                            <td>429</td>
                            <td class="param-name">RATE_LIMIT_EXCEEDED</td>
                            <td>请求过于频繁，请稍后重试</td>
                        </tr>
                        <tr>
                            <td>500</td>
                            <td class="param-name">INTERNAL_ERROR</td>
                            <td>服务器内部错误</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>错误响应示例</h3>
                <div class="code-block">
                    <div class="code-block-header">
                        <span class="code-lang">json</span>
                        <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                    </div>
                    <code>{
  "error": {
    "code": "INVALID_REQUEST",
    "message": "缺少必需的参数: module_id",
    "details": {
      "missing_params": ["module_id"]
    },
    "documentation_url": "https://docs.lgos.studio/errors/INVALID_REQUEST"
  }
}</code>
                </div>
            </div>
            
            <div class="api-section" id="best-practices">
                <h2><i class="fas fa-star"></i> 最佳实践</h2>
                <div class="api-description">
                    <p>使用LGOS Studio API时的推荐实践和性能优化技巧。</p>
                    
                    <div class="tip-box">
                        <h4><i class="fas fa-sync-alt"></i> 使用缓存减少请求</h4>
                        <p>对于不经常变化的数据，使用本地缓存减少API调用：</p>
                        <div class="code-block">
                            <div class="code-block-header">
                                <span class="code-lang">javascript</span>
                                <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                            </div>
                            <code>// 使用内存缓存减少API调用
async function getAppStatus(appId) {
  const cacheKey = `app_status_${appId}`;
  
  // 检查缓存
  if (cache.has(cacheKey)) {
    return cache.get(cacheKey);
  }
  
  // 调用API
  const response = await fetch(`/apps/${appId}/status`);
  const data = await response.json();
  
  // 缓存结果（5分钟）
  cache.set(cacheKey, data, 300);
  
  return data;
}</code>
                        </div>
                    </div>
                    
                    <div class="tip-box">
                        <h4><i class="fas fa-bolt"></i> 批量操作优化</h4>
                        <p>使用批量API减少请求次数：</p>
                        <div class="code-block">
                            <div class="code-block-header">
                                <span class="code-lang">javascript</span>
                                <button class="copy-btn"><i class="fas fa-copy"></i> 复制</button>
                            </div>
                            <code>// 批量更新多个模块配置
async function updateModules(appId, updates) {
  const response = await fetch(`/apps/${appId}/modules/batch`, {
    method: 'PATCH',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${accessToken}`
    },
    body: JSON.stringify({ updates })
  });
  
  return response.json();
}

// 使用示例
updateModules('app_123', [
  { module_id: 'auth', config: { timeout: 5000 } },
  { module_id: 'database', config: { pool_size: 20 } }
]);</code>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // 复制按钮功能
        document.addEventListener('DOMContentLoaded', function() {
            const copyButtons = document.querySelectorAll('.copy-btn');
            
            copyButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const codeBlock = this.closest('.code-block');
                    const code = codeBlock.querySelector('code');
                    
                    // 创建临时 textarea 用于复制
                    const textarea = document.createElement('textarea');
                    textarea.value = code.textContent;
                    document.body.appendChild(textarea);
                    textarea.select();
                    
                    try {
                        const successful = document.execCommand('copy');
                        const msg = successful ? '已复制到剪贴板!' : '复制失败';
                        
                        // 显示复制成功反馈
                        const originalText = this.innerHTML;
                        this.innerHTML = '<i class="fas fa-check"></i> 已复制';
                        setTimeout(() => {
                            this.innerHTML = originalText;
                        }, 2000);
                    } catch (err) {
                        console.error('无法复制文本: ', err);
                    }
                    
                    // 清理
                    document.body.removeChild(textarea);
                });
            });
            
            // 平滑滚动
            const links = document.querySelectorAll('.sidebar a');
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    if(this.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        
                        // 移除之前的活动状态
                        links.forEach(link => link.classList.remove('active'));
                        
                        // 添加当前活动状态
                        this.classList.add('active');
                        
                        const targetId = this.getAttribute('href');
                        const targetElement = document.querySelector(targetId);
                        
                        if(targetElement) {
                            window.scrollTo({
                                top: targetElement.offsetTop - 100,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });
            
            // 搜索功能
            const searchBox = document.querySelector('.search-box');
            searchBox.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                if (searchTerm.length > 2) {
                    // 在实际应用中这里会执行API搜索
                    console.log(`搜索: ${searchTerm}`);
                }
            });
            
            // 自动激活当前可见的章节
            window.addEventListener('scroll', function() {
                const sections = document.querySelectorAll('.api-section');
                let currentSection = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if(window.scrollY >= sectionTop - 150) {
                        currentSection = section.getAttribute('id');
                    }
                });
                
                if(currentSection) {
                    links.forEach(link => {
                        link.classList.remove('active');
                        if(link.getAttribute('href') === `#${currentSection}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>
